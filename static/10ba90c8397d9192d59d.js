"use strict";(self.webpackChunkcloud_onchain_trade_sdk=self.webpackChunkcloud_onchain_trade_sdk||[]).push([[798],{95795:(e,t,s)=>{s.d(t,{t:()=>i});var a=s(66618),l=s(27618),r=s(84400),n=s(50653);const i=e=>{const{tip:t,children:s,tipClassName:i,contentClassName:o,mode:c="hover"}=e,[m,u]=(0,n.Z)(!1),[d,h]=(0,n.Z)(!0),x="click"===c,p=(0,r.useCallback)((()=>{u(!0)}),[u]),f=(0,r.useCallback)((()=>{u(!1)}),[u]),b=(0,r.useCallback)((()=>{h(!d),u(!m)}),[d,m,h,u]);return r.createElement(a.J2,{open:m},r.createElement(a.i9,null,r.createElement(a.yk,{side:"top",align:"start",className:(0,l.cn)("outline-none p-3 rounded order-form-popover-tooltip-content",o),onMouseEnter:x&&d?void 0:p,onMouseLeave:x&&d?void 0:f,onEscapeKeyDown:f,onInteractOutside:f},r.createElement(a.QH,null),r.createElement("div",{className:(0,l.cn)("flex item-center text-t-secondary text-caption whitespace-pre-line order-form-popover-tooltip-text",i)},t))),r.createElement(a.xo,{asChild:!0,onMouseEnter:x&&d?void 0:p,onMouseLeave:x&&d?void 0:f,onClick:x?b:p,className:"cursor-pointer"},s))}},18401:(e,t,s)=>{s.d(t,{r:()=>i});var a=s(84400),l=s(54402),r=s(27618);const n=a.memo((e=>{const{style:t,className:s,children:l}=e;return a.createElement("div",{className:(0,r.cn)("list-container relative",s),style:t},l)})),i=e=>{const{dataSource:t,itemElement:s,itemKey:i,emptyChildren:o,itemHeight:c,loading:m,loadWithContent:u,style:d,className:h,rowWrapper:x=!0,maxContent:p=!0,extraBottomElement:f,extraData:b}=e,v=!m&&0===t.length;return m&&!u?a.createElement(l.g,{fullScreen:!0,inner:!0}):v?a.createElement(n,{className:h,style:d},o||null):a.createElement(n,{className:h,style:d},t.map(((e,l)=>{const n=a.createElement(s,{key:i(l,t),index:l,...e,data:e,extraData:b});return x?a.createElement("div",{style:{height:`${c}px`},className:(0,r.cn)({"min-w-max":p}),key:i(l,t)},n):n})),Boolean(f)&&f)}},50653:(e,t,s)=>{s.d(t,{Z:()=>a});const a=s(44679).Z},44679:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(84400),l=function(e,t){return"boolean"==typeof t?t:!e};const r=function(e){return(0,a.useReducer)(l,e)}},30798:(e,t,s)=>{s.r(t),s.d(t,{default:()=>be});var a=s(10322),l=s(78922),r=s(27618),n=s(84400),i=s(44478),o=s(90471),c=s(18401),m=s(54402),u=s(85633),d=s(72262),h=s(20355);const x={time:130,symbol:120,side:100,leverage:110,type:110,size:100,price:100,fee:105,pnl:110,detail:76,direction:94,entryTime:140,expireTime:140,initialAmount:120,entryPrice:120,expirePrice:120,dumbPnl:140,status:150,hash:130},p=["time","symbol","side","leverage","type","size","price","fee","pnl","detail"].reduce(((e,t)=>e+x[t]),0),f=["symbol","direction","entryTime","expireTime","initialAmount","entryPrice","expirePrice","dumbPnl","status"].reduce(((e,t)=>e+x[t]),0),b="flex text-t-secondary items-center text-captionSub",v="justify-start",y={default:`${b}`,time:`${b}`,symbol:`${b}`,side:`${b}`,leverage:`${b}`,type:`${b}`,size:`${b} ${v}`,price:`${b} ${v}`,fee:`${b} ${v}`,hash:`${b} ${v}`,pnl:`${b} ${v}`,detail:`${b} justify-end`,direction:`${b}`,entryTime:`${b}`,expireTime:`${b}`,initialAmount:`${b}`,entryPrice:`${b}`,expirePrice:`${b}`,dumbPnl:`${b} ${v}`,status:`${b} ${v}`};var E=s(5837),g=s(64617),N=s(67284),C=s(47909),P=s(95795),I=s(25375);const $=({hash:e})=>{const{useColumnTime:t,getI18n:s}=(0,n.useContext)(h.T),a=t(e);return(0,n.useMemo)((()=>n.createElement("div",{className:y.time,style:{width:`${x.time}px`,flex:`1 1 ${x.time}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},a),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},s("userinfo-history-column-timeUTC","Time (UTC)"))))),[a,s])},T=({hash:e})=>{const{useColumnSymbol:t,locale:s,Link:a="a",useColumnLeverage:l,useSymbolLogo:i,getI18n:o}=(0,n.useContext)(h.T),{symbol:c,symbolName:m,isLong:u,showLogo:d=!0}=t(e),p=l(e),f=i(c),{futuresPageBasePath:b}=(0,C.z)();return(0,n.useMemo)((()=>n.createElement("div",{className:y.symbol,style:{width:`${x.symbol}px`,flex:`1 1 ${x.symbol}px`}},d&&n.createElement("img",{src:f,className:"h-5 w-5 mr-2"}),n.createElement(a,{className:"flex flex-col items-start",href:`/${s}${b}/${c}`},n.createElement("div",{className:"text-t-primary text-subtitle2 userInfo-column-value"},m||c),n.createElement("div",{className:(0,r.cn)("text-caption1 flex justify-center items-center mt-0.5 userInfo-column-title",u?"text-t-buy":"text-t-sell")},u?o("userinfo-positions-long","Long"):o("userinfo-positions-short","Short")," ",p)))),[a,b,o,u,p,s,f,d,c,m])},w=({hash:e})=>{const{useColumnType:t,getI18n:s}=(0,n.useContext)(h.T),a=t(e);return(0,n.useMemo)((()=>n.createElement("div",{className:y.type,style:{width:`${x.type}px`,flex:`1 1 ${x.type}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},a),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},s("userinfo-history-column-type","Type"))))),[s,a])},M=({hash:e})=>{const{useColumnInitialCollateral:t,getI18n:s}=(0,n.useContext)(h.T),a=t(e);return(0,n.useMemo)((()=>n.createElement("div",{className:y.type,style:{width:`${x.type}px`,flex:`1 1 ${x.type}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},a),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},s("userinfo-positions-column-initialMargin","Initial Margin"))))),[s,a])},D=({hash:e})=>{const{useColumnSize:t,getI18n:s}=(0,n.useContext)(h.T),a=t(e);return(0,n.useMemo)((()=>n.createElement("div",{className:y.size,style:{width:`${x.size}px`,flex:`1 1 ${x.size}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},a),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},s("userinfo-column-size",{defaultValue:"Size ({{symbol}})",symbol:i.e.USD}))))),[a,s])},L=({hash:e})=>{const{useColumnPrice:t,getI18n:s}=(0,n.useContext)(h.T),a=t(e);return(0,n.useMemo)((()=>n.createElement("div",{className:y.price,style:{width:`${x.price}px`,flex:`1 1 ${x.price}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},a),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},s("userinfo-history-column-closePrice","Close Price"))))),[a,s])},S=({hash:e})=>{const{useColumnFee:t,getI18n:s}=(0,n.useContext)(h.T),a=t(e);return(0,n.useMemo)((()=>n.createElement("div",{className:y.fee,style:{width:`${x.fee}px`,flex:`1 1 ${x.fee}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},a),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},s("userinfo-history-column-fee","Fee"))))),[a,s])},k=({hash:e})=>{const{getI18n:t,useClassicPerp:s}=(0,n.useContext)(h.T),{chain:a}=(0,N.m)(),{useClassicDataByFiled:l}=s(),r=l(e,"txHash");return(0,n.useMemo)((()=>n.createElement("div",{className:y.hash,style:{width:`${x.hash}px`,flex:`1 1 ${x.hash}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement(P.t,{contentClassName:"userInfo-PopoverTooltip-content",tipClassName:"userInfo-PopoverTooltip-text",tip:n.createElement("div",{className:"w-[282px]"},n.createElement("span",{className:"whitespace-pre-line break-words text-caption"},r))},n.createElement("a",{target:"_blank",rel:"noreferrer",href:`${a?.blockExplorers?.default.url.replace(/\/$/,"")}/tx/${r}`,className:"text-subtitle2 text-t-link cursor-pointer userInfo-column-value"},`${r}`.slice(0,11),"...")),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third flex gap-0.5 userInfo-column-title"},t("userinfo-history-column-hash","Transaction Hash"))))),[r,a?.blockExplorers?.default.url,t])},H=({hash:e})=>{const{useColumnPNL:t}=(0,n.useContext)(h.T),{PNL:s,ROI:a,isPNLNegative:l,isROINegative:r}=t(e);return(0,n.useMemo)((()=>n.createElement("div",{className:y.pnl,style:{width:`${x.pnl}px`,flex:`1 1 ${x.pnl}px`}},n.createElement("div",{className:"flex flex-col !items-start"},n.createElement("div",{className:"text-subtitle2 whitespace-nowrap userInfo-column-value",style:{color:void 0===l?"rgb(var(--colors-t-secondary))":l?"rgb(var(--colors-t-sell))":"rgb(var(--colors-t-buy))"}},s),n.createElement("div",{className:"text-caption1 text-t-third mt-0.5 userInfo-column-title"},"PNL ",n.createElement("span",{style:{color:void 0===r?"rgb(var(--colors-t-secondary))":r?"rgb(var(--colors-t-sell))":"rgb(var(--colors-t-buy))"}},a))))),[s,a,l,r])},_=({hash:e})=>{const{useHistoryDetail:t,enableShare:s}=(0,n.useContext)(h.T),{useHistoryDetailType:a}=t(),{type:l}=a(e),i=(0,n.useCallback)((()=>I.ee.emit("MODAL_HISTORY_DETAIL_OPEN",{hash:e})),[e]),o=(0,n.useCallback)((()=>I.ee.emit("MODAL_POSITION_SHARE_OPEN",{hash:e,overlay:!0})),[e]),c=s&&1===l,m="flex h-7 cursor-pointer justify-center items-center rounded bg-interactive-interactive01 text-subtitle3 text-t-third hover:text-t-primary hover:bg-interactive-interactive02Hover",{icons:u}=(0,C.z)();return(0,n.useMemo)((()=>n.createElement("div",{style:{width:`${x.detail}px`},className:(0,r.cn)(y.detail,"sticky right-0 h-full px-2 gap-2 after:pointer-events-none after:content-[''] after:absolute after:left-[-16px] after:h-full after:w-4 after:bg-gradient-to-l after:from-background-bg1")},n.createElement("div",{className:"inline-flex flex-row gap-2"},c&&n.createElement("button",{className:(0,r.cn)(m,"h-7 w-7 userInfo-column-button"),onClick:o},u.ShareD?n.createElement(u.ShareD,{className:"relative cursor-pointer"}):n.createElement(E.f,{className:"relative cursor-pointer",width:"16px",height:"16px",fontSize:"16px"})),n.createElement("button",{className:(0,r.cn)(m,"h-7 w-7 userInfo-column-button"),onClick:i},u.DetailD?n.createElement(u.DetailD,{cursor:"pointer"}):n.createElement(g.J,{viewBox:"0 0 16 16",cursor:"pointer",width:"16px",height:"16px",fontSize:"16px"}))))),[u,i,o,c])},B=({hash:e,index:t})=>(0,n.useMemo)((()=>n.createElement("div",{className:"positions-column flex flex-row w-full h-full items-center justify-between relative","data-column-hash":e},n.createElement("div",{className:"flex flex-row h-full box-border pl-4 max-w-[1500px] flex-1"},n.createElement(T,{hash:e}),n.createElement(w,{hash:e}),n.createElement(H,{hash:e}),n.createElement(M,{hash:e}),n.createElement(D,{hash:e}),n.createElement(L,{hash:e}),n.createElement(S,{hash:e}),n.createElement($,{hash:e}),n.createElement(k,{hash:e})),n.createElement(_,{hash:e,rowIndex:t}))),[e,t]),F=(e,t)=>`${t[e].hash}-${e}`,z=n.memo((()=>{const{useHistory:e,useHistoryInitialed:t,getI18n:s,useHistoryLoadMore:a,useTheme:l}=(0,n.useContext)(h.T),{isLight:r}=l(),i=(0,n.useRef)(null),o=(0,u.Z)(i,{root:null,rootMargin:"20px",threshold:1}),x=t(),f=e(),{loadMoreLoading:b,hasMore:v,loadMore:y}=a(),E=(0,n.useMemo)((()=>!!o?.isIntersecting),[o?.isIntersecting]);return(0,n.useEffect)((()=>{v&&!b&&E&&y?.()}),[v,E,y,b]),n.createElement(c.r,{className:"[&_[data-column-hash]]:bg-background-bg1 [&_[data-column-hash]:hover]:bg-interactive-interactiveBg [&_[data-column-hash]_>_:last-child]:bg-background-bg1 [&_[data-column-hash]:hover_>_:last-child]:bg-interactive-interactiveBg [&_[data-column-hash]:hover_>_:last-child:after]:from-interactive-interactiveBg",style:{minWidth:`${p}px`},dataSource:f.map((e=>({hash:e}))),loading:!x,loadWithContent:!1,itemElement:B,itemKey:F,itemHeight:62,emptyChildren:n.createElement(d.$,{isLight:r,title:s("userinfo-history-no-data",{defaultValue:"No History Data"})}),extraBottomElement:n.createElement(n.Fragment,null,n.createElement("div",{ref:i,className:"py-5"}),b&&n.createElement(m.g,{fullScreen:!0,inner:!0,color:"rgb(var(--colors-interactive-primary))"}))})}));var A=s(78659),O=s(26583),R=s(99297),Z=s(89663),U=s(95386),V=s(42249);const j=({hash:e})=>{const{isDumbMode:t,switchMode:s}=(0,A.C)(),{locale:a,Link:l="a",useDumbPrediction:i,useSymbolLogo:o,getI18n:c}=(0,n.useContext)(h.T),{usePredictionDataByFiled:m,showLogo:u=!0}=i(),d=m(e,"symbol"),p=m(e,"isLong"),f=o(d),{futuresPageBasePath:b}=(0,C.z)(),v=(0,n.useCallback)((()=>{t||s("dumb")}),[t,s]);return(0,n.useMemo)((()=>n.createElement("div",{className:`symbol ${y.symbol}`,style:{width:`${x.symbol}px`,flex:`1 1 ${x.symbol}px`}},u&&n.createElement("img",{src:f,className:"h-5 w-5 mr-2"}),n.createElement(l,{className:"flex flex-col items-start",onClick:v,href:`/${a}${b}/${d}`},n.createElement("div",{className:"text-t-primary text-subtitle2 userInfo-column-value"},d),n.createElement("div",{className:(0,r.cn)("text-caption1 flex justify-center items-center mt-0.5 userInfo-column-title",p?"text-t-buy":"text-t-sell")},p?c("userinfo-positions-direction-long","Long"):c("userinfo-positions-direction-short","Short")," ")))),[u,f,l,v,a,b,d,p,c])},W=({hash:e})=>{const{useDumbPrediction:t,getI18n:s}=(0,n.useContext)(h.T),{usePredictionDataByFiled:a}=t(),l=a(e,"startTime");return(0,n.useMemo)((()=>n.createElement("div",{className:y.entryTime,style:{width:`${x.entryTime}px`,flex:`1 1 ${x.entryTime}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},(0,R.v)(new Date(1e3*l),"MM-dd hh:mm:ss")),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},s("userinfo-positions-column-entryTime","Entry Time"))))),[l,s])},K=({hash:e})=>{const{useDumbPrediction:t,getI18n:s}=(0,n.useContext)(h.T),{usePredictionDataByFiled:a}=t(),l=a(e,"executionTime");return(0,n.useMemo)((()=>n.createElement("div",{className:y.expireTime,style:{width:`${x.expireTime}px`,flex:`1 1 ${x.expireTime}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},(0,R.v)(new Date(1e3*l),"MM-dd hh:mm:ss")),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},s("userinfo-positions-column-expireTime","Expire Time"))))),[l,s])},G=({hash:e})=>{const t=(0,V.h)(),{useDumbPrediction:s,getI18n:a}=(0,n.useContext)(h.T),{usePredictionDataByFiled:l}=s(),r=l(e,"principal"),i=l(e,"tokenIn"),o=t[i]||i;return(0,n.useMemo)((()=>n.createElement("div",{className:y.initialAmount,style:{width:`${x.initialAmount}px`,flex:`1 1 ${x.initialAmount}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},`${r} ${o}`),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},a("userinfo-positions-column-initialAmount","Initial Amount"))))),[r,o,a])},J=({hash:e})=>{const{useDumbPrediction:t,getI18n:s}=(0,n.useContext)(h.T),{usePredictionDataByFiled:a,usePricePrecision:l}=t(),r=a(e,"symbol"),i=a(e,"entryPrice"),o=l(r);return(0,n.useMemo)((()=>n.createElement("div",{className:y.entryPrice,style:{width:`${x.entryPrice}px`,flex:`1 1 ${x.entryPrice}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},(0,Z.uf)(i,o)),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},s("userinfo-positions-column-entryPrice","Entry Price"))))),[i,o,s])},Q=({hash:e})=>{const{useDumbPrediction:t,getI18n:s}=(0,n.useContext)(h.T),{usePredictionDataByFiled:a,usePricePrecision:l,useCurrentPrice:r}=t(),i=a(e,"symbol"),o=r(e),c=a(e,"executionPrice"),m=l(i),u=0===(a(e,"state")||0)?o:c;return(0,n.useMemo)((()=>n.createElement("div",{className:y.expirePrice,style:{width:`${x.expirePrice}px`,flex:`1 1 ${x.expirePrice}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2 text-t-primary userInfo-column-value"},(0,Z.uf)(u,m)),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third userInfo-column-title"},s("userinfo-positions-column-expirePrice","Expire Price"))))),[u,m,s])},q=({hash:e})=>{const t=(0,V.h)(),{useDumbPrediction:s}=(0,n.useContext)(h.T),{usePredictionDataByFiled:a,useAssetPrecision:l,useCurrentPrice:r,predictionPairs:i}=s(),o=a(e,"tokenIn"),c=t[o]||o,m=a(e,"symbol"),u=l(c),d=r(e),p=a(e,"openFee")||0,f=a(e,"executionPrice"),b=a(e,"entryPrice")||0,v=a(e,"principal")||0,E=a(e,"pnl")||0,g=a(e,"isLong"),N=a(e,"state")||0,C=a(e,"closeFee")||0,P=a(e,"executionTime")||0,I=a(e,"startTime")||0,$=Number(P)-Number(I),T=U.Z1.get($),w=(0,n.useMemo)((()=>i?.find((e=>m===e.name?.replace("/","")))?.predictionPeriods.find((e=>e.period===T))),[T,i,m]),M=Number(v)-Number(p),D=w&&void 0!==w.winRatio&&void 0!==w.winCloseFeeP?(w.winRatio-w.winCloseFeeP)/10**U.cB.percent:0,L=0===N||1===N?Number(d):f,S=g?Number(L)>Number(b):Number(L)<Number(b),k=S?0===N?D:(Number(E)-Number(C))/Number(v):-1,H=S?0===N?M*k:Number(E)-Number(C):Number(v)*k,_=`${(0,Z.uf)(100*k,2)}%`,B=(0,Z.uf)(H,u);return(0,n.useMemo)((()=>n.createElement("div",{className:y.dumbPnl,style:{width:`${x.dumbPnl}px`,flex:`1 1 ${x.dumbPnl}px`}},n.createElement("div",{className:"flex flex-col !items-start"},n.createElement("div",{className:"text-subtitle2 whitespace-nowrap userInfo-column-value",style:{color:void 0===H?"rgb(var(--colors-t-secondary))":H<0?"rgb(var(--colors-t-sell))":"rgb(var(--colors-t-buy))"}},B," ",c),n.createElement("div",{className:"text-caption1 text-t-third mt-0.5 userInfo-column-title"},"PNL ",n.createElement("span",{style:{color:void 0===k?"rgb(var(--colors-t-secondary))":k<0?"rgb(var(--colors-t-sell))":"rgb(var(--colors-t-buy))"}},_))))),[H,B,k,_,c])},X=e=>{const t=Math.floor((new Date).getTime()/1e3);return Math.max(e-t,-1)},Y=({hash:e})=>{const{getI18n:t,useDumbPrediction:s}=(0,n.useContext)(h.T),{usePredictionDataByFiled:a}=s(),l=a(e,"state"),r=a(e,"startTime"),i=a(e,"executionTime"),o=i-r,c=(0,n.useRef)(null),[m,u]=(0,n.useState)(X(i)),d=window.getComputedStyle(document.documentElement),p=`rgb(${d.getPropertyValue("--colors-border-line")})`,f=`rgb(${d.getPropertyValue("--colors-highLight")})`;return(0,n.useEffect)((()=>{c.current&&clearInterval(c.current),u(X(i));const e=()=>{c.current&&(clearInterval(c.current),c.current=null)};return c.current=setInterval((()=>u((t=>{const s=t-1;if(s>-1)return s;const a=X(i);return a>-1?a:(e(),-1)}))),1e3),e}),[i]),(0,n.useMemo)((()=>n.createElement("div",{className:y.status,style:{width:`${x.status}px`,flex:`1 1 ${x.status}px`}},n.createElement("div",{className:"flex flex-col items-start"},n.createElement("div",{className:"text-subtitle2  userInfo-column-value "+(2===l?"text-t-primary":"text-highLight")},0===l&&n.createElement(n.Fragment,null,m>-1?n.createElement("div",{className:"flex flex-row items-center"},n.createElement("div",{className:"text-highLight mr-1.5"},m,"s"),n.createElement(O.m,{id:`canvas-${e}`,percent:m>o?100:(o-m)/o*100,size:16,width:1.6,color:f,bgColor:p})):t("userinfo-history-column-status-in-progress","Statement in progress")),1===l&&t("userinfo-history-column-status-in-progress","Statement in progress"),2===l&&t("userinfo-history-column-status-finish","Finish")),n.createElement("div",{className:"mt-0.5 text-caption1 text-t-third  userInfo-column-title"},t("userinfo-history-column-status","Status"))))),[m,o,t,e,f,p,l])},ee=({hash:e})=>(0,n.useMemo)((()=>n.createElement("div",{className:"positions-column w-full h-full items-center","data-column-hash":e},n.createElement("div",{className:"flex flex-row h-full box-border pl-4 max-w-[1500px]",style:{minWidth:`${f}px`}},n.createElement(j,{hash:e}),n.createElement(q,{hash:e}),n.createElement(W,{hash:e}),n.createElement(K,{hash:e}),n.createElement(G,{hash:e}),n.createElement(J,{hash:e}),n.createElement(Q,{hash:e}),n.createElement(Y,{hash:e})))),[e]),te=(e,t)=>t[e].hash,se=()=>{const{useDumbPrediction:e,getI18n:t,useTheme:s}=(0,n.useContext)(h.T),{fetchPredictions:a,usePredictions:l,usePredictionInitialed:r,usePredictionHasMore:i,usePredictionLoading:o}=e(),{isLight:x}=s(),p=(0,n.useRef)(null),b=(0,u.Z)(p,{root:null,rootMargin:"20px",threshold:1}),v=r(),y=l(),E=o(),g=i(),N=(0,n.useMemo)((()=>!!b?.isIntersecting),[b?.isIntersecting]);return(0,n.useEffect)((()=>{g&&!E&&N&&!E&&a?.()}),[a,g,N,E]),(0,n.useMemo)((()=>n.createElement(c.r,{className:"h-full [&_[data-column-hash]]:bg-background-bg1 [&_[data-column-hash]:hover]:bg-interactive-interactiveBg [&_[data-column-hash]_>_:last-child]:bg-background-bg1 [&_[data-column-hash]:hover_>_:last-child]:bg-interactive-interactiveBg",style:{minWidth:`${f}px`},dataSource:y.map((e=>({hash:e}))),loading:!v,loadWithContent:!0,itemElement:ee,itemKey:te,itemHeight:62,emptyChildren:n.createElement(d.$,{isLight:x,title:t("userinfo-history-no-data",{defaultValue:"No History Data"})}),extraBottomElement:n.createElement(n.Fragment,null,n.createElement("div",{ref:p}),E&&n.createElement(m.g,{fullScreen:!0,inner:!0,color:"rgb(var(--colors-interactive-primary))"}))})),[t,y,v,x,E])};var ae=s(69464),le=s(2203),re=s(19844);const ne="h-6 py-0 rounded px-2 text-subtitle2 text-t-third data-[state=active]:bg-interactive-primary data-[state=active]:text-t-white",ie=()=>{const{enableDumb:e,getI18n:t}=(0,n.useContext)(h.T),{tradeModeTab:s,changeTradeModeTab:a}=(0,o.G)();return(0,n.useMemo)((()=>n.createElement(l.mQ,{className:"w-full h-full",value:s,onValueChange:a},n.createElement("div",{className:"flex flex-col items-start w-full h-full overflow-hidden border-t-border-lineSubtle border-t border-solid"},n.createElement("div",{className:"absolute flex items-center top-3 right-4"},e&&n.createElement(l.dr,{className:"p-0 bg-background-bg1Accent01 h-6 rounded userInfo-mode-container"},n.createElement(l.SP,{className:(0,r.cn)(ne,"userInfo-mode-button"),value:i.O.Classic},t("userinfo-positions-tab-perp","Perp")),n.createElement(l.SP,{className:(0,r.cn)(ne,"userInfo-mode-button"),value:i.O.Dumb},t("userinfo-positions-tab-dumb","Dumb")))),n.createElement(l.nU,{className:"mt-0 hidden flex-col w-full h-full data-[state=active]:flex overflow-auto p-px pb-[10px] pr-0",value:i.O.Classic},n.createElement(z,null)),n.createElement(l.nU,{className:"mt-0 hidden flex-col w-full h-full data-[state=active]:flex overflow-auto p-px pb-[10px] pr-0",value:i.O.Dumb},n.createElement(se,null))))),[s,e,t,a])},oe=e=>(0,n.useMemo)((()=>n.createElement(h.T.Provider,{value:{locale:e.locale,Link:e.Link,staticHost:e.staticHost,siteHost:e.staticHost,agentCode:e.agentCode,enableShare:e.enableShare,enableShareLink:e.enableShareLink,enableDumb:e.enableDumb,getI18n:e.getI18n,useTheme:e.useTheme,useHistoryLoadMore:e.useHistoryLoadMore,useHistory:e.useHistory,useHistoryInitialed:e.useHistoryInitialed,useColumnFee:e.useColumnFee,useColumnMobile:e.useColumnMobile,useColumnLeverage:e.useColumnLeverage,useColumnPNL:e.useColumnPNL,useColumnPrice:e.useColumnPrice,useColumnSymbol:e.useColumnSymbol,useColumnTime:e.useColumnTime,useColumnType:e.useColumnType,useColumnSide:e.useColumnSide,useColumnSize:e.useColumnSize,useHistoryDetail:e.useHistoryDetail,useSymbolLogo:e.useSymbolLogo,useClassicPerp:e.useClassicPerp,useColumnInitialCollateral:e.useColumnInitialCollateral,useDumbPrediction:e.useDumbPrediction?e.useDumbPrediction:()=>({fetchPredictions:()=>{},useHistoryTab:()=>["",()=>{}],usePredictionDataByFiled:()=>{},usePredictionHasMore:()=>!1,usePredictionInitialed:()=>!1,usePredictionLoading:()=>!1,usePredictions:()=>[],usePricePrecision:()=>2,useAssetPrecision:()=>2,useCurrentPrice:()=>"-",predictionPairs:[]})}},n.createElement(ie,null),n.createElement(ae.C.Provider,{value:{locale:e.locale,staticHost:e.staticHost,siteHost:e.siteHost,agentCode:e.agentCode,enableShare:e.enableShare,enableShareLink:e.enableShareLink,getI18n:e.getI18n,useTheme:e.useTheme,useHistoryDetail:e.useHistoryDetail,ee:I.ee}},n.createElement(le.F,null),n.createElement(re.m,null)))),[e]);var ce=s(43693),me=s(33687),ue=s(87685),de=s(2547),he=s(96988),xe=s(68692),pe=s(52590),fe=s(10978);const be=()=>{const{loadMoreLoading:e,hasMore:t,loadMore:s}=(0,fe.xK)(),{getI18n:l,i18n:{language:r}}=(0,he.V6)(),i=(0,xe.h)();(0,fe.oU)();const o=(0,n.useCallback)((()=>({loadMore:s,hasMore:t,loadMoreLoading:e})),[t,s,e]),{dumb:c}=(0,de.B)();return(0,n.useMemo)((()=>(0,a.jsx)(oe,{locale:r,siteHost:me.brokerConfig.staticBaseUrl,staticHost:me.brokerConfig.apxStaticBaseUrl,getI18n:l,Link:ce.G,useTheme:pe.F,useHistory:fe.k6,useHistoryLoadMore:o,useHistoryInitialed:fe.zV,useColumnTime:fe.a6,useColumnSymbol:fe.iA,useColumnLeverage:fe.ch,useColumnFee:fe.b2,useColumnType:fe.r2,useColumnPrice:fe.yT,useColumnPNL:fe.RM,useColumnMobile:fe.Xi,useColumnSide:fe.uq,useColumnSize:fe.v_,useHistoryDetail:fe.uN,useDumbPrediction:fe.D,useClassicPerp:fe.ZK,enableShare:!0,enableShareLink:i,enableDumb:c,useSymbolLogo:ue.sH,useColumnInitialCollateral:fe.d3})),[r,l,o,i,c])}}}]);