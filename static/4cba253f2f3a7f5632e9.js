"use strict";(self.webpackChunkcloud_onchain_trade_sdk=self.webpackChunkcloud_onchain_trade_sdk||[]).push([[2572],{82572:(e,t,s)=>{s.r(t),s.d(t,{HistoryDrawer:()=>xe,default:()=>fe,openHistoryDrawer:()=>he});var l=s(10322),n=s(78922),r=s(27618),a=s(84400),o=s(44478),i=s(90471),u=s(54402),m=s(85633),c=s(72262),d=s(20355),x=s(64617),h=s(5837),f=s(67284),b=s(47909),v=s(25375);const p=({hash:e})=>{const{getI18n:t,enableShare:s,useHistoryDetail:l,useColumnMobile:n,useColumnLeverage:o,useColumnSymbol:i,useColumnType:u}=(0,a.useContext)(d.T),{side:m}=n(e),c=o(e),{useHistoryDetailType:f}=l(),{type:p}=f(e),E=u(e),{symbolName:y,symbol:N}=i(e),g="Long"===m,C=s&&1===p,I=(0,a.useCallback)((()=>v.ee.emit("MODAL_POSITION_SHARE_OPEN",{hash:e})),[e]),P=(0,a.useCallback)((()=>v.ee.emit("MODAL_HISTORY_DETAIL_OPEN",{hash:e})),[e]),M="flex h-6 px-2 cursor-pointer justify-center items-center rounded bg-interactive-interactive01 text-caption text-t-third hover:text-t-primary",{brokerName:T,icons:D}=(0,b.z)();return(0,a.useMemo)((()=>a.createElement("div",{className:"flex items-center justify-between"},a.createElement("div",{className:"flex items-center gap-1"},a.createElement("div",{className:"text-t-primary text-subtitle2 userInfo-m-column-main-title"},y||N),"astherus"===T&&a.createElement("div",{className:`flex items-center justify-center h-4 ${g?"text-t-buy":"text-t-sell"} text-subtitle3 userInfo-m-column-sub-title`},g?t("userinfo-positions-long","Long"):t("userinfo-positions-short","Short")),a.createElement("div",{className:`flex items-center justify-center h-4 px-1 rounded ${g?"text-t-buy":"text-t-sell"} ${g?"bg-support-success/30":"bg-support-error/30"} text-subtitle3 userInfo-m-column-sub-title`},c),"astherus"!==T&&a.createElement("div",{className:"flex items-center bg-interactive-interactive01 justify-center h-4 px-1 rounded-[4px] text-t-secondary text-subtitle3 userInfo-m-column-main-title"},E)),a.createElement("div",{className:"flex items-center gap-2"},a.createElement("button",{className:(0,r.cn)(M,"px-1 userInfo-m-column-button"),onClick:P},D.DetailD?a.createElement(D.DetailD,null):a.createElement(x.J,{width:"16px",height:"16px",fontSize:"16px"})),C&&a.createElement("button",{className:(0,r.cn)(M,"px-1 userInfo-m-column-button"),onClick:I},D.ShareD?a.createElement(D.ShareD,null):a.createElement(h.f,{width:"16px",height:"16px",fontSize:"16px"}))))),[y,N,g,c,T,E,P,D,C,I])},E=({hash:e})=>{const{getI18n:t,useColumnType:s}=(0,a.useContext)(d.T),l=s(e);return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-left items-start flex-1"},a.createElement("div",{className:"text-subtitle3"},a.createElement("div",{className:"text-subtitle3 whitespace-nowrap userInfo-m-column-value"},l)),a.createElement("div",{className:"text-t-third text-caption1 userInfo-m-column-title"},t("userinfo-history-column-type","Type")))),[t,l])},y=({hash:e})=>{const{useColumnPNL:t}=(0,a.useContext)(d.T),{PNL:s,ROI:l,isPNLNegative:n}=t(e),r=(0,a.useMemo)((()=>"-"===s?"--":a.createElement(a.Fragment,null,s)),[s]),o=(0,a.useMemo)((()=>"-"===s?"--":a.createElement(a.Fragment,null,l)),[s,l]);return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-left items-start flex-1"},a.createElement("div",{className:"text-subtitle3"},a.createElement("div",{className:"text-subtitle3 whitespace-nowrap userInfo-m-column-value",style:{color:void 0===n?"rgb(var(--colors-t-secondary))":n?"rgb(var(--colors-t-sell))":"rgb(var(--colors-t-buy))"}},r)),a.createElement("div",{className:"text-t-third text-caption1 userInfo-m-column-title"},"PNL ",a.createElement("span",{style:{color:void 0===n?"rgb(var(--colors-t-secondary))":n?"rgb(var(--colors-t-sell))":"rgb(var(--colors-t-buy))"}},o)))),[n,r,o])},N=({hash:e})=>{const{useColumnPNL:t}=(0,a.useContext)(d.T),{PNL:s,ROI:l,isPNLNegative:n}=t(e),r=(0,a.useMemo)((()=>"-"===s?"--":a.createElement(a.Fragment,null,s," (",l,")")),[s,l]);return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-left items-start"},a.createElement("div",{className:"text-subtitle3"},a.createElement("div",{className:"text-subtitle3 whitespace-nowrap userInfo-m-column-value",style:{color:void 0===n?"rgb(var(--colors-t-secondary))":n?"rgb(var(--colors-t-sell))":"rgb(var(--colors-t-buy))"}},r)),a.createElement("div",{className:"text-t-third text-caption1 userInfo-m-column-title"},"PNL"))),[n,r])},g=({hash:e})=>{const{getI18n:t,useColumnInitialCollateral:s}=(0,a.useContext)(d.T),l=s(e);return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-right items-end flex-1"},a.createElement("div",{className:"text-t-primary text-subtitle3 userInfo-m-column-value"},l),a.createElement("div",{className:"text-t-third text-caption1 userInfo-m-column-title"},t("userinfo-positions-column-initialAmount",{defaultValue:"Initial Amount"})))),[t,l])},C=({hash:e})=>{const{getI18n:t,useColumnMobile:s}=(0,a.useContext)(d.T),{size:l}=s(e);return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-left items-start flex-[1]"},a.createElement("div",{className:"text-t-primary text-subtitle3 userInfo-m-column-value"},l),a.createElement("div",{className:"text-t-third text-caption1 userInfo-m-column-title"},t("userinfo-history-mobile-size",{defaultValue:"Size(USD)"})))),[t,l])},I=({hash:e})=>{const{getI18n:t,useColumnMobile:s}=(0,a.useContext)(d.T),{price:l}=s(e),{brokerName:n}=(0,b.z)();return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col flex-1 "+("astherus"===n?"text-left items-start":"text-center items-center")},a.createElement("div",{className:"text-t-primary text-subtitle3 userInfo-m-column-value"},l),a.createElement("div",{className:"text-t-third text-caption1 userInfo-m-column-title"},t("userinfo-history-column-closePrice",{defaultValue:"Close Price"})))),[n,t,l])},P=({hash:e})=>{const{getI18n:t,useColumnFee:s}=(0,a.useContext)(d.T),l=s(e);return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-right items-end flex-[1]"},a.createElement("div",{className:"text-t-primary text-subtitle3 userInfo-m-column-value"},l),a.createElement("div",{className:"text-t-third text-caption1 userInfo-m-column-value"},t("userinfo-history-mobile-fee",{defaultValue:"Fee"})))),[t,l])},M=({hash:e})=>{const{getI18n:t,useColumnTime:s}=(0,a.useContext)(d.T),l=s(e);return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-left items-start"},a.createElement("div",{className:"text-t-primary text-subtitle3 userInfo-m-column-value"},l),a.createElement("div",{className:"text-t-third text-caption1 userInfo-m-column-title"},t("userinfo-history-mobile-time",{defaultValue:"Time"})))),[t,l])},T=({hash:e})=>{const{getI18n:t,useClassicPerp:s}=(0,a.useContext)(d.T),{chain:l}=(0,f.m)(),{useClassicDataByFiled:n}=s(),r=n(e,"txHash");return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-right items-end"},a.createElement("a",{target:"_blank",rel:"noreferrer",href:`${l?.blockExplorers?.default.url.replace(/\/$/,"")}/tx/${r}`,className:"text-subtitle3 text-t-link cursor-pointer userInfo-m-column-value"},`${r}`.slice(0,11),"..."),a.createElement("div",{className:"text-t-third text-caption1 userInfo-m-column-title"},t("userinfo-history-column-hash","Transaction Hash")))),[l?.blockExplorers?.default.url,t,r])},D=({hash:e})=>{const{brokerName:t}=(0,b.z)();return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col mt-2 w-full"},a.createElement("div",{className:`flex flex-row ${"astherus"===t?"":"justify-between"} mt-2`},"astherus"===t&&a.createElement(E,{hash:e}),"astherus"===t?a.createElement(y,{hash:e}):a.createElement(N,{hash:e}),a.createElement(g,{hash:e})),a.createElement("div",{className:"flex flex-row mt-2"},a.createElement(C,{hash:e}),a.createElement(I,{hash:e}),a.createElement(P,{hash:e})),a.createElement("div",{className:"flex flex-row justify-between mt-2"},a.createElement(M,{hash:e}),a.createElement(T,{hash:e})))),[t,e])},w=({hash:e})=>(0,a.useMemo)((()=>a.createElement("div",{className:"positions-column-mobile box-border p-4 border-b-border-line border-b border-solid userInfo-m-column-wrapper","data-column-hash":e},a.createElement(p,{hash:e}),a.createElement(D,{hash:e}))),[e]),S=()=>{const{useHistory:e,useHistoryInitialed:t,getI18n:s,useHistoryLoadMore:l,useTheme:n}=(0,a.useContext)(d.T),{isLight:r}=n(),o=(0,a.useRef)(null),i=(0,m.Z)(o,{root:null,rootMargin:"20px",threshold:1}),x=e(),h=t(),{loadMoreLoading:f,hasMore:b,loadMore:v}=l(),p=(0,a.useMemo)((()=>!!i?.isIntersecting),[i?.isIntersecting]);return(0,a.useEffect)((()=>{b&&!f&&p&&v?.()}),[b,p,v,f]),(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col w-full h-full min-h-10 userInfo-m-history-list"},x.length?x.map((e=>a.createElement(w,{key:`_h_classic_m_${e}`,hash:e}))):h?a.createElement(c.$,{isLight:r,title:s("userinfo-history-no-data",{defaultValue:"No History Data"})}):null,a.createElement("div",{ref:o}),f&&a.createElement(u.g,{fullScreen:!0,inner:!0}))),[s,x,h,r,f])};var L=s(26583),H=s(99297),k=s(89663),F=s(95386),_=s(42249);const j=({hash:e})=>{const{getI18n:t,useDumbPrediction:s}=(0,a.useContext)(d.T),{usePredictionDataByFiled:l}=s(),n=l(e,"startTime");return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-center items-center flex-1"},a.createElement("div",{className:"text-t-primary text-subtitle3 userInfo-m-column-value"},(0,H.v)(new Date(1e3*n),"MM-dd hh:mm:ss")),a.createElement("div",{className:"text-t-third text-caption1 mt-0.5 userInfo-m-column-title"},t("userinfo-positions-column-entryTime",{defaultValue:"Entry Time"})))),[t,n])},V=({hash:e})=>{const{getI18n:t,useDumbPrediction:s}=(0,a.useContext)(d.T),{usePredictionDataByFiled:l,usePricePrecision:n}=s(),r=l(e,"symbol"),o=l(e,"entryPrice"),i=n(r);return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-center items-center flex-1"},a.createElement("div",{className:"text-t-primary text-subtitle3 userInfo-m-column-value"}," ",(0,k.uf)(o,i)),a.createElement("div",{className:"text-t-third text-caption1 mt-0.5 userInfo-m-column-title"},t("userinfo-positions-column-entryPrice",{defaultValue:"Entry Price"})))),[o,t,i])},$=({hash:e})=>{const t=(0,_.h)(),{getI18n:s,useDumbPrediction:l}=(0,a.useContext)(d.T),{usePredictionDataByFiled:n}=l(),r=n(e,"principal"),o=n(e,"tokenIn"),i=t[o]||o;return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-left items-start flex-1"},a.createElement("div",{className:"text-t-primary text-subtitle3 userInfo-m-column-value"}," ",`${r} ${i}`),a.createElement("div",{className:"text-t-third text-caption1 mt-0.5 userInfo-m-column-title"},s("userinfo-positions-column-initialAmount",{defaultValue:"Initial Amount"})))),[s,r,i])},O=({hash:e})=>{const{getI18n:t,useDumbPrediction:s}=(0,a.useContext)(d.T),{usePredictionDataByFiled:l}=s(),n=l(e,"executionTime");return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-right items-end flex-1"},a.createElement("div",{className:"text-t-primary text-subtitle3 userInfo-m-column-value"},(0,H.v)(new Date(1e3*n),"MM-dd hh:mm:ss")),a.createElement("div",{className:"text-t-third text-caption1 mt-0.5 userInfo-m-column-title"},t("userinfo-positions-column-expireTime",{defaultValue:"Expire Time"})))),[n,t])},z=({hash:e})=>{const{getI18n:t,useDumbPrediction:s}=(0,a.useContext)(d.T),{usePredictionDataByFiled:l,usePricePrecision:n}=s(),r=l(e,"symbol"),o=l(e,"executionPrice"),i=n(r);return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-right items-end flex-1"},a.createElement("div",{className:"text-t-primary text-subtitle3 userInfo-m-column-value"},(0,k.uf)(o,i)),a.createElement("div",{className:"text-t-third text-caption1 mt-0.5 userInfo-m-column-title"},t("userinfo-positions-column-expirePrice",{defaultValue:"Expire Price"})))),[o,t,i])},R=({hash:e})=>{const t=(0,_.h)(),{useDumbPrediction:s}=(0,a.useContext)(d.T),{usePredictionDataByFiled:l,useAssetPrecision:n,useCurrentPrice:r,predictionPairs:o}=s(),i=l(e,"tokenIn"),u=t[i]||i,m=l(e,"symbol"),c=n(u),x=r(e),h=l(e,"executionPrice"),f=l(e,"entryPrice")||0,b=l(e,"principal")||0,v=l(e,"pnl")||0,p=l(e,"isLong"),E=l(e,"openFee")||0,y=l(e,"closeFee")||0,N=l(e,"state")||0,g=l(e,"executionTime")||0,C=l(e,"startTime")||0,I=Number(g)-Number(C),P=F.Z1.get(I),M=(0,a.useMemo)((()=>o?.find((e=>m===e.name?.replace("/","")))?.predictionPeriods.find((e=>e.period===P))),[P,o,m]),T=Number(b)-Number(E),D=M&&void 0!==M.winRatio&&void 0!==M.winCloseFeeP?(M.winRatio-M.winCloseFeeP)/10**F.cB.percent:0,w=0===N||1===N?Number(x):h,S=p?Number(w)>Number(f):Number(w)<Number(f),L=S?0===N?D:(Number(v)-Number(y))/Number(b):-1,H=S?0===N?T*L:Number(v)-Number(y):Number(b)*L,j=`${(0,k.uf)(100*L,2)}%`,V=(0,k.uf)(H,c);return(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-left items-start flex-1"},a.createElement("div",{className:"text-subtitle3"},a.createElement("div",{className:"text-subtitle3 whitespace-nowrap userInfo-m-column-value",style:{color:void 0===H?"rgb(var(--colors-t-secondary))":H<0?"rgb(var(--colors-t-sell))":"rgb(var(--colors-t-buy))"}},V," (",j,")")),a.createElement("div",{className:"text-t-third text-caption1 mt-0.5 userInfo-m-column-title"},"PNL"))),[H,V,j])},B=e=>{const t=Math.floor((new Date).getTime()/1e3);return Math.max(e-t,-1)},A=({hash:e})=>{const{getI18n:t,useDumbPrediction:s}=(0,a.useContext)(d.T),{usePredictionDataByFiled:l}=s(),n=l(e,"state"),r=l(e,"startTime"),o=l(e,"executionTime"),i=o-r,u=(0,a.useRef)(null),[m,c]=(0,a.useState)(B(o)),x=window.getComputedStyle(document.documentElement),h=`rgb(${x.getPropertyValue("--colors-border-line")})`,f=`rgb(${x.getPropertyValue("--colors-highLight")})`;return(0,a.useEffect)((()=>{u.current&&clearInterval(u.current),c(B(o));const e=()=>{u.current&&(clearInterval(u.current),u.current=null)};return u.current=setInterval((()=>c((t=>{const s=t-1;if(s>-1)return s;const l=B(o);return l>-1?l:(e(),-1)}))),1e3),e}),[o]),(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col text-right items-end flex-1"},a.createElement("div",{className:(1===n?"text-t-emphasize":"text-t-primary")+"  text-subtitle3 userInfo-m-column-main-title"},0===n&&a.createElement(a.Fragment,null,m>-1?a.createElement("div",{className:"flex flex-row items-center"},a.createElement("div",{className:"text-highLight mr-1.5"},m,"s"),a.createElement(L.m,{id:`canvas-${e}`,percent:m>i?100:(i-m)/i*100,size:16,width:1.6,color:f,bgColor:h})):t("userinfo-history-column-status-in-progress","Statement in progress")),1===n&&t("userinfo-history-column-status-in-progress","Statement in progress"),2===n&&t("userinfo-history-column-status-finish","Finish")))),[m,i,t,e,f,h,n])},U=({hash:e})=>{const{getI18n:t,useDumbPrediction:s}=(0,a.useContext)(d.T),{usePredictionDataByFiled:l}=s(),n=l(e,"symbol"),r=l(e,"isLong");return(0,a.useMemo)((()=>a.createElement("div",{className:"flex items-start justify-between"},a.createElement("div",{className:"flex items-center gap-1"},a.createElement("div",{className:"text-t-primary text-subtitle2 userInfo-m-column-main-title"},n),a.createElement("div",{className:`flex items-center justify-center h-4 px-1 rounded ${r?"text-t-buy":"text-t-sell"} ${r?"bg-support-success/30":"bg-support-error/30"} text-subtitle3 userInfo-m-column-main-title`},r?t("userinfo-positions-long","Long"):t("userinfo-positions-short","Short"))),a.createElement(A,{hash:e}))),[n,r,t,e])},W=({hash:e})=>(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col w-full"},a.createElement("div",{className:"flex flex-row justify-between mt-3"},a.createElement(R,{hash:e}),a.createElement(j,{hash:e}),a.createElement(O,{hash:e})),a.createElement("div",{className:"flex flex-row mt-2"},a.createElement($,{hash:e}),a.createElement(V,{hash:e}),a.createElement(z,{hash:e})))),[e]),Z=({hash:e})=>(0,a.useMemo)((()=>a.createElement("div",{className:"positions-column-mobile box-border p-4 border-b-border-line border-b border-solid userInfo-m-column-wrapper","data-column-hash":e},a.createElement(U,{hash:e}),a.createElement(W,{hash:e}))),[e]),Y=()=>{const{useDumbPrediction:e,getI18n:t,useTheme:s}=(0,a.useContext)(d.T),{fetchPredictions:l,usePredictions:n,usePredictionInitialed:r,usePredictionHasMore:o,usePredictionLoading:i}=e(),{isLight:x}=s(),h=(0,a.useRef)(null),f=(0,m.Z)(h,{root:null,rootMargin:"20px",threshold:1}),b=r(),v=n(),p=i(),E=o(),y=(0,a.useMemo)((()=>!!f?.isIntersecting),[f?.isIntersecting]);return(0,a.useEffect)((()=>{E&&!p&&y&&l?.()}),[l,E,y,p]),(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col w-full h-full"},v.length?v.map((e=>a.createElement(Z,{key:`_h_dumb_m_${e}`,hash:e}))):b?a.createElement(c.$,{isLight:x,title:t("userinfo-history-no-data",{defaultValue:"No History Data"})}):null,a.createElement("div",{ref:h}),p&&a.createElement(u.g,{fullScreen:!0,inner:!0}))),[t,b,x,p,v])};var G=s(69464),K=s(2203),q=s(19844);const J="h-6 py-0 rounded px-2 text-subtitle2 text-t-third data-[state=active]:bg-interactive-primary data-[state=active]:text-t-white",Q=()=>{const{enableDumb:e,getI18n:t}=(0,a.useContext)(d.T),{tradeModeTab:s,changeTradeModeTab:l}=(0,i.G)();return(0,a.useMemo)((()=>a.createElement(n.mQ,{className:"relative w-full h-full",value:s,onValueChange:l},a.createElement("div",{className:"relative w-full h-full flex flex-col history-container-mobile"},e?a.createElement("div",{className:"flex justify-between items-center px-4 mt-4 userInfo-m-mode-wrapper"},a.createElement(n.dr,{className:"p-0 bg-background-bg1Accent01 h-6 rounded userInfo-mode-container"},a.createElement(n.SP,{className:(0,r.cn)(J,"userInfo-mode-button"),value:o.O.Classic},t("userinfo-positions-tab-perp","Perp")),a.createElement(n.SP,{className:(0,r.cn)(J,"userInfo-mode-button"),value:o.O.Dumb},t("userinfo-positions-tab-dumb","Dumb")))):a.createElement("div",null),a.createElement(n.nU,{className:"hidden flex-col w-full h-full data-[state=active]:flex mt-0 userInfo-m-TabsContent",value:o.O.Classic},a.createElement(S,null)),a.createElement(n.nU,{className:"hidden flex-col w-full h-full data-[state=active]:flex mt-0 userInfo-m-TabsContent",value:o.O.Dumb},a.createElement(Y,null))))),[e,t,s,l])},X=e=>(0,a.useMemo)((()=>a.createElement(d.T.Provider,{value:{locale:e.locale,staticHost:e.staticHost,siteHost:e.staticHost,agentCode:e.agentCode,enableShare:e.enableShare,enableShareLink:e.enableShareLink,enableDumb:e.enableDumb,getI18n:e.getI18n,useTheme:e.useTheme,useHistoryLoadMore:e.useHistoryLoadMore,useHistory:e.useHistory,useHistoryInitialed:e.useHistoryInitialed,useColumnFee:e.useColumnFee,useColumnMobile:e.useColumnMobile,useColumnLeverage:e.useColumnLeverage,useColumnPNL:e.useColumnPNL,useColumnPrice:e.useColumnPrice,useColumnSymbol:e.useColumnSymbol,useColumnTime:e.useColumnTime,useColumnType:e.useColumnType,useColumnSide:e.useColumnSide,useColumnSize:e.useColumnSize,useHistoryDetail:e.useHistoryDetail,useSymbolLogo:e.useSymbolLogo,useClassicPerp:e.useClassicPerp,useColumnInitialCollateral:e.useColumnInitialCollateral,useDumbPrediction:e.useDumbPrediction?e.useDumbPrediction:()=>({fetchPredictions:()=>{},useHistoryTab:()=>["",()=>{}],usePredictionDataByFiled:()=>{},usePredictionHasMore:()=>!1,usePredictionInitialed:()=>!1,usePredictionLoading:()=>!1,usePredictions:()=>[],usePricePrecision:()=>2,useAssetPrecision:()=>2,useCurrentPrice:()=>"-",predictionPairs:[]})}},a.createElement(Q,null),a.createElement(G.C.Provider,{value:{locale:e.locale,staticHost:e.staticHost,siteHost:e.siteHost,agentCode:e.agentCode,enableShare:e.enableShare,enableShareLink:e.enableShareLink,getI18n:e.getI18n,useTheme:e.useTheme,useHistoryDetail:e.useHistoryDetail,ee:v.ee}},a.createElement(K.F,null),a.createElement(q.m,null)))),[e]);var ee=s(33740),te=s(58395),se=s(43693),le=s(33687),ne=s(87685),re=s(2547),ae=s(96988),oe=s(68692),ie=s(52590),ue=s(1619),me=s(10978);const ce=()=>{const{loadMoreLoading:e,hasMore:t,loadMore:s}=(0,me.xK)(),{getI18n:n,i18n:{language:r}}=(0,ae.V6)();(0,me.oU)();const o=(0,oe.h)(),i=(0,a.useCallback)((()=>({loadMore:s,hasMore:t,loadMoreLoading:e})),[t,s,e]),{dumb:u}=(0,re.B)();return(0,a.useMemo)((()=>(0,l.jsx)(X,{locale:r,siteHost:le.brokerConfig.staticBaseUrl,staticHost:le.brokerConfig.apxStaticBaseUrl,getI18n:n,Link:se.G,useTheme:ie.F,useHistory:me.k6,useHistoryInitialed:me.zV,useColumnSymbol:me.iA,useColumnLeverage:me.ch,useColumnTime:me.a6,useColumnFee:me.b2,useColumnType:me.r2,useColumnPrice:me.yT,useColumnPNL:me.RM,useHistoryLoadMore:i,useColumnMobile:me.Xi,useColumnSide:me.uq,useColumnSize:me.v_,useHistoryDetail:me.uN,useDumbPrediction:me.D,useClassicPerp:me.ZK,enableShare:!0,enableShareLink:o,enableDumb:u,useSymbolLogo:ne.sH,useColumnInitialCollateral:me.d3})),[r,n,i,o,u])},de=()=>{const{getI18n:e}=(0,ae.V6)();return(0,a.useMemo)((()=>(0,l.jsx)("div",{className:"text-body1 text-t-third",children:e("userinfo-history-no-data",{defaultValue:"No History Data"})})),[e])},xe=()=>{const[e,t]=(0,a.useState)(0),{getI18n:s}=(0,ae.V6)(),{isConnected:n}=(0,f.m)();(0,a.useEffect)((()=>ue.ee.on("SHOW_HISTORY_DRAWER",(()=>{t(Date.now())}))),[]);const r=(0,a.useCallback)((()=>{t(0)}),[]);return(0,a.useMemo)((()=>(0,l.jsx)(ee.yo,{open:Boolean(e),children:(0,l.jsx)(ee.ue,{side:"bottom",className:"w-full outline-none border-none px-4 py-0 rounded-t-[4px] bg-[#121221] z-dialog",onPointerDownOutside:r,children:e?n?(0,l.jsxs)("div",{className:"h-[445px]",children:[(0,l.jsxs)("div",{className:"h-[54px] flex items-center justify-center",children:[(0,l.jsx)("div",{className:"text-t-primary pl-4 text-subtitle4",children:s("userinfo-history-module-titleV2",{defaultValue:"History"})}),(0,l.jsx)(te.E,{width:"20px",height:"20px",fontSize:"20px",className:"cursor-pointer absolute right-4 text-t-third",onClick:r})]}),(0,l.jsx)("div",{className:"w-full h-[calc(100%-54px)] overflow-auto",children:(0,l.jsx)(ce,{})})]},e):(0,l.jsx)("div",{className:"w-full h-[calc(100%-54px)] overflow-auto flex items-center justify-center",children:(0,l.jsx)(de,{})}):null})})),[s,n,e,r])},he=()=>ue.ee.emit("SHOW_HISTORY_DRAWER",void 0),fe=ce},1619:(e,t,s)=>{s.d(t,{ee:()=>l});const l=new(s(58407).v)}}]);